<html>
  <head>
    <title>The Chair</title>
    <style>
    #container {
      margin: 0 auto;
      height: 100%;
      width: 100%;
      z-index: 1;
      position: absolute;
      top: 0;
      left: 0;
    }
    </style>
    <script>
    var numRandoms = 39;
    // preload images
    function preload() {
      var images = new Array(numRandoms);
      for (var i = 1; i <= numRandoms; i++) {
        images[i] = new Image();
        images[i].src = "./bg/" + i + ".jpg";
      }
      return images;
    }
    var images = preload();

    var uniqueRandoms = [];
    var randomVal;
    function r()
    {
      if (!uniqueRandoms.length)
      {
        for (var i = 0; i < numRandoms; i++)
        {
            uniqueRandoms.push(i);
        }
      }
      var index = Math.floor(Math.random() * uniqueRandoms.length + 1);
      randomVal = uniqueRandoms[index];
      uniqueRandoms.splice(index, 1);
    }

    function p()
    {
      (new Image).src="./bg/"+randomVal.toString()+".jpg"
    }

    function f()
    {
      var n=document.getElementById("container");
      n.style.background="url('./bg/"+randomVal.toString()+".jpg') no-repeat center center fixed",
      n.style.backgroundSize="100% 100%",r(),p()
    }
    </script>
  </head>

  <body>
      <div id=container onclick=f()></div>
      <script>r(),f();</script>
  </body>
</html>
